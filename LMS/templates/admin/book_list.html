 {% extends 'admin/base_admin.html' %}
  {% block content %}
   <div class="post">
   <div class="date text-muted">
   <p><em><h6>The book you find:<h6></em></p><p id="record"></p>
  </div>
   <table class="table table-striped table-hover">
   <thead>
     <tr>
	   <th>NUMBER</th>
       <th>ID</th>
       <th>TITLE</th>
	   <th>AUTHOR</th>
	   <th>PUBLISHER</th>
       <th>STATE</th>
	   <th>ISBN</th>
	   <th>ADD TIME</th>
     </tr>
   </thead>
    <tbody  id="Tab">
	{% for BookOnShelf in posts %}
     <tr>
	   <td></td>
       <td><a href="{% url 'book_detail' pk=BookOnShelf.pk%}">{{BookOnShelf.bookId}}</a></td>
       <td><a href="{% url 'book_detail' pk=BookOnShelf.pk%}">{{BookOnShelf.bookInfo.title}}</a></td>
	   <td>{{BookOnShelf.bookInfo.author}}</td>
	   <td>{{BookOnShelf.bookInfo.publishingHouse.name}}</td>
       <td>{{BookOnShelf.state}}</td>
	   <td>{{BookOnShelf.bookInfo.ISBN}}</td>
	   <td>{{BookOnShelf.book_add_date}}</td>
	   <td><a href="{% url 'delete_book' pk=BookOnShelf.pk%}" onclick="return confirm('Are you sure to delete?')">DELETE</a></td>
	 </tr>
	 	   
	 {% endfor %}
   </tbody>
   </table>
  <script language="javascript" type="text/javascript"> 
window.onload = function(){ 
    var oTable = document.getElementById("Tab"); 
    for(var i=0;i<oTable.rows.length;i++){ 
        oTable.rows[i].cells[0].innerHTML = (i+1); 
    } 
   record.innerHTML=oTable.rows.length; 
} 
</script>
	<hr>
     {% endblock %}